{"version":3,"sources":["conponents/App/App.module.css","conponents/ImageGalleryItem/ImageGalleryItem.module.css","conponents/Modal/Modal.module.css","conponents/Container/Container.module.css","conponents/ImageGallery/ImageGallery.module.css","conponents/Button/Button.module.css","conponents/Searchbar/Searchbar.module.css","conponents/Container/Container.js","conponents/Searchbar/Searchbar.js","conponents/ImageGalleryItem/ImageGalleryItem.js","conponents/ImageGallery/ImageGallery.js","API/api-service.js","conponents/Button/Button.js","conponents/Modal/Modal.js","conponents/App/App.js","index.js"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSubmit","useState","searchValue","setSearchValue","console","log","searchbar","event","preventDefault","trim","toast","error","searchForm","type","searchForm_button","searchForm_button_label","searchForm_input","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","tags","openModal","largeImageURL","imageGallery","onClick","e","target","dataset","large","src","alt","imageGalleryItem_image","ImageGallery","search","map","item","id","getImagesCollections","page","API_KEY","url","axios","get","then","response","data","hits","Button","incrementPage","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","closeModal","handleBackdropClick","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","Component","status","App","state","articles","showModal","modalImage","handlerSearchForm","setState","handleIncrement","catch","prevProps","prevState","newSearch","nextPage","getImages","scrollTo","top","documentElement","scrollHeight","behavior","modalImg","loader","color","height","width","section","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6df8fb12.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"App_section__240-0\",\"loader\":\"App_loader__38Whi\",\"modalImg\":\"App_modalImg__2OBJq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__uCjCU\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__1JYVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1gnwo\",\"modal\":\"Modal_modal__IT3f1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1EEyW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__tyHTS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__GHucs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__gMri2\",\"searchForm\":\"Searchbar_searchForm__3p5_A\",\"searchForm_button\":\"Searchbar_searchForm_button__3fmXD\",\"searchForm_button_label\":\"Searchbar_searchForm_button_label__1kmRo\",\"searchForm_input\":\"Searchbar_searchForm_input__2ugIS\"};","import PropTypes from 'prop-types';\n\nimport s from './Container.module.css';\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n\nContainer.propTypes = {\n  children: PropTypes.any,\n};\n","import PropTypes from 'prop-types';\n\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchValue, setSearchValue] = useState('');\n  console.log(onSubmit);\n  const hundleChange = event => {\n    event.preventDefault();\n    setSearchValue(event.currentTarget.value);\n  };\n\n  const hundleSubmit = event => {\n    event.preventDefault();\n    if (searchValue.trim() === '') {\n      return toast.error('Enter the names of the pictures');\n    }\n    onSubmit(searchValue);\n    setSearchValue('');\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form onSubmit={hundleSubmit} className={s.searchForm}>\n        <button type=\"submit\" className={s.searchForm_button}>\n          <span className={s.searchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.searchForm_input}\n          type=\"text\"\n          value={searchValue}\n          onChange={hundleChange}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  Searchbar: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\nconst ImageGalleryItem = ({ webformatURL, tags, openModal, largeImageURL }) => {\n  return (\n    <li className={s.imageGallery}>\n      <img\n        onClick={e => {\n          openModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt={tags}\n        className={s.imageGalleryItem_image}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  openModal: PropTypes.func,\n  largeImageURL: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\n\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ search, openModal }) => {\n  return (\n    <>\n      <ul className={s.imageGallery}>\n        {search &&\n          search.map(item => (\n            <ImageGalleryItem\n              key={item.id}\n              webformatURL={item.webformatURL}\n              tags={item.webformatURL}\n              openModal={openModal}\n              largeImageURL={item.largeImageURL}\n            />\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\nImageGallery.propTypes = {\n  openModal: PropTypes.func,\n  search: PropTypes.array,\n};\n","import axios from 'axios';\n\nconst getImagesCollections = (search, page = 1) => {\n  const API_KEY = '22192349-6b91fd76fde5f4977c0f7c9ea';\n  const url = 'https://pixabay.com/api/';\n  return axios\n    .get(\n      `${url}?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => {\n      return response.data.hits;\n    });\n};\nexport default getImagesCollections;\n","import PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nconst Button = ({ incrementPage }) => (\n  <button type=\"button\" className={s.button} onClick={incrementPage}>\n    Load mode\n  </button>\n);\nexport default Button;\n\nButton.propTypes = {\n  incrementPage: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') this.props.closeModal();\n  };\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) this.props.closeModal();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <button\n            type=\"button\"\n            onClick={() => {\n              this.props.closeModal();\n            }}\n          >\n            Close\n          </button>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  children: PropTypes.object,\n  closeModal: PropTypes.func,\n};\n","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport React, { Component } from 'react';\n\nimport Loader from 'react-loader-spinner';\n\nimport s from './App.module.css';\nimport Container from '../Container';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport getImagesCollections from '../../API/api-service';\nimport Button from '../Button';\nimport Modal from '../Modal';\n\nconst status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n    articles: [],\n    status: status.IDLE,\n    page: 1,\n    error: '',\n    showModal: false,\n    modalImage: '',\n  };\n\n  getImages(search, page) {\n    getImagesCollections(search, page)\n      .then(response =>\n        this.setState({\n          articles: [...this.state.articles, ...response],\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  }\n\n  handlerSearchForm = searchValue => {\n    this.setState({\n      searchValue,\n      articles: [],\n      page: 1,\n      status: status.PENDING,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const newSearch = this.state.searchValue;\n    const nextPage = this.state.page;\n\n    if (this.state.status === 'pending' && prevProps.prevProps !== this.props) {\n      this.setState({ status: status.RESOLVED });\n      this.getImages(newSearch, nextPage);\n    }\n    if (this.state.status === 'resolved' && prevState.page !== nextPage) {\n      this.getImages(newSearch, nextPage);\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  openModal = url => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImage: url,\n    }));\n  };\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImage: '',\n    }));\n  };\n\n  render() {\n    const { status, articles, showModal, modalImage } = this.state;\n    return (\n      <>\n        <Container>\n          <Searchbar onSubmit={this.handlerSearchForm} />\n        </Container>\n\n        {showModal && (\n          <Modal closeModal={this.closeModal}>\n            <img src={modalImage} alt=\"\" className={s.modalImg} />\n          </Modal>\n        )}\n        {status === 'pending' && (\n          <Loader\n            className={s.loader}\n            type=\"BallTriangle\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        {status === 'resolved' && (\n          <section className={s.section}>\n            <Container>\n              <ImageGallery search={articles} openModal={this.openModal} />\n              <Button incrementPage={this.handleIncrement} />\n            </Container>\n          </section>\n        )}\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './conponents/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}